<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>مجله | KOALAW</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
      @import url("https://font-face.ir/css/iransans/");

      :root {
        --primary: #e39ab4;
        --secondary: #1a1a1a;
        --accent: #ffe9f2;
        --rose-gold: #f0b7c4;
        --rose-cream: #e3d1d6;
        --cream: #faf8f3;
        --deep-brown: #3d2914;
        --blush: #ffd7e5;
        --lavender: #eae2ff;
        --mint: #dff8ef;
        --butter: #fff3bf;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        cursor: none !important;
      }

      body {
        font-family: "IRANSans", sans-serif;
        font-size: 15px;
        background-color: var(--cream);
        color: #333;
        overflow-x: hidden;
        cursor: none;
      }

      .font-serif {
        font-family: "IRANSans", serif;
      }

      .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .hide-scrollbar::-webkit-scrollbar {
        display: none;
      }

      body.mobile-menu-open,
      body.search-overlay-open {
        overflow: hidden;
      }

      .mobile-menu-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 55;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
      }

      .mobile-menu-overlay.is-active {
        opacity: 1;
        visibility: visible;
      }

      #mobile-menu {
        position: fixed;
        top: 0;
        right: 0;
        width: 80%;
        max-width: 320px;
        height: 100%;
        background-color: var(--cream);
        box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
        z-index: 60;
        transform: translateX(100%);
        transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        display: flex;
        flex-direction: column;
        padding: 6rem 2rem 2rem;
        align-items: flex-end;
        gap: 1.25rem;
        direction: ltr;
        text-align: right;
      }

      #mobile-menu.is-active {
        transform: translateX(0);
      }

      #mobile-menu .nav-link {
        font-size: 1.15rem;
        font-weight: 700;
        color: var(--deep-brown);
        width: 100%;
      }

      .hamburger-button {
        width: 40px;
        height: 40px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 5px;
        position: relative;
        z-index: 65;
        background: 0 0;
        border: none;
      }

      .hamburger-button span {
        display: block;
        width: 24px;
        height: 2px;
        background-color: var(--deep-brown);
        border-radius: 2px;
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        transform-origin: center;
      }

      .hamburger-button.is-active span:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
      }

      .hamburger-button.is-active span:nth-child(2) {
        opacity: 0;
        transform: scaleX(0);
      }

      .hamburger-button.is-active span:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
      }

      /* Cursor (exactly as reference) */
      .cursor {
        width: 30px;
        height: 30px;
        border: 2px solid #666;
        background: 0 0;
        border-radius: 50% 50% 45% 45%;
        position: fixed;
        pointer-events: none;
        z-index: 9999;
        transform: translate(-50%, -50%);
        transition: border-color 0.2s ease, transform 0.2s ease;
      }

      .cursor::after,
      .cursor::before {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        border: 2px solid #666;
        background: 0 0;
        border-radius: 50%;
        top: -3px;
        transition: border-color 0.2s ease;
      }

      .cursor::before {
        right: -9px;
      }

      .cursor::after {
        left: -9px;
      }

      .cursor-face {
        position: fixed;
        width: 30px;
        height: 30px;
        pointer-events: none;
        z-index: 10000;
        transform: translate(-50%, -50%);
      }

      .cursor-face::before {
        content: "";
        position: absolute;
        width: 4px;
        height: 7px;
        border: 1.5px solid #333;
        background: 0 0;
        border-radius: 50%;
        top: 13px;
        left: 50%;
        transform: translateX(-50%);
      }

      .cursor-eyes {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      }

      .cursor-eyes::after,
      .cursor-eyes::before {
        content: "";
        position: absolute;
        width: 3px;
        height: 3px;
        border: 2px solid #333;
        background: 0 0;
        border-radius: 50%;
        top: 10px;
      }

      .cursor-eyes::before {
        right: 6px;
      }

      .cursor-eyes::after {
        left: 6px;
      }

      .cursor.hover {
        border-color: var(--primary);
        transform: translate(-50%, -50%) scale(1.2);
      }

      .cursor.hover::after,
      .cursor.hover::before {
        border-color: var(--primary);
      }

      .cursor-follower {
        width: 50px;
        height: 50px;
        background: rgba(227, 154, 180, 0.1);
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 9998;
        transform: translate(-50%, -50%);
        transition: background 0.3s ease, transform 0.3s ease;
      }

      .floating-heart {
        position: fixed;
        left: 0;
        top: 0;
        transform: translate(-50%, -50%);
        font-size: 16px;
        pointer-events: none;
        z-index: 10000;
        opacity: 0;
        animation: heartFloat 1.2s ease-out forwards;
        filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.02));
      }

      @keyframes heartFloat {
        0% {
          transform: translate(-50%, -50%) scale(0.8);
          opacity: 0;
        }

        15% {
          opacity: 0.95;
        }

        60% {
          transform: translate(-50%, -140%) scale(1.15);
        }

        to {
          transform: translate(-50%, -200%) scale(1);
          opacity: 0;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .floating-heart,
        #backToTop:hover,
        body [class*="animation"] {
          animation: none !important;
        }
      }

      /* Small pulse used in header cart badge (reference) */
      .pulse-animation {
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.8;
        }
      }

      nav {
        backdrop-filter: blur(20px);
        background: rgba(250, 248, 243, 0.85);
        box-shadow: 0 1px 20px rgba(0, 0, 0, 0.05);
      }

      .nav-link {
        position: relative;
        font-weight: 500;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
      }

      .nav-link::before {
        content: "";
        position: absolute;
        bottom: -5px;
        right: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--primary), var(--rose-gold));
        transition: width 0.3s ease;
      }

      .nav-link:hover::before,
      .nav-link.active::before {
        width: 100%;
      }

      .filter-btn {
        padding: 12px 24px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 13px;
        letter-spacing: 0.5px;
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        border: 2px solid transparent;
        cursor: none;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .filter-btn::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          var(--primary) 0,
          var(--rose-gold) 100%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .filter-btn span {
        position: relative;
        z-index: 1;
      }

      .filter-btn.active,
      .filter-btn:hover {
        color: #fff;
        transform: translateY(-2px);
      }

      .filter-btn.active::before,
      .filter-btn:hover::before {
        opacity: 1;
      }

      .filter-btn:not(.active) {
        background: linear-gradient(145deg, #fff 0, #f8f9fa 100%);
        color: #1a1a1a;
        border-color: rgba(227, 154, 180, 0.2);
      }

      .cute-divider {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        margin: 0.5rem 0 0;
        opacity: 0.65;
      }

      .cute-divider::after,
      .cute-divider::before {
        content: "";
        height: 1px;
        width: 36px;
        background: linear-gradient(
          90deg,
          transparent,
          var(--rose-gold),
          transparent
        );
      }

      .cute-divider .star {
        font-size: 12px;
        color: var(--rose-gold);
      }

      .newsletter-bg {
        background: linear-gradient(
          135deg,
          var(--deep-brown) 0,
          var(--primary) 100%
        );
        position: relative;
        overflow: hidden;
      }

      .newsletter-bg::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          hsla(0, 0%, 100%, 0.1) 0,
          transparent 70%
        );
        animation: rotate 30s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0);
        }

        to {
          transform: rotate(30deg);
        }
      }

      #backToTop:hover {
        animation: cute-wiggle 0.7s ease both;
      }

      @keyframes cute-wiggle {
        0%,
        50%,
        to {
          transform: scale(1.1) rotate(0);
        }
        25% {
          transform: scale(1.1) rotate(-6deg);
        }
        75% {
          transform: scale(1.1) rotate(6deg);
        }
      }

      /* --- Search Overlay Styles (reference) --- */
      .search-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(250, 248, 243, 0.8);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        z-index: 999;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 15vh 5% 0 5%;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease;
      }
      .search-overlay.is-active {
        opacity: 1;
        visibility: visible;
      }
      .search-container {
        position: relative;
        width: 100%;
        max-width: 600px;
        padding: 20px;
        transform: translateY(-20px);
        transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
      }
      .search-overlay.is-active .search-container {
        transform: translateY(0);
      }
      .close-search-button {
        position: absolute;
        top: -10vh;
        right: 0;
        color: var(--deep-brown);
        background: none;
        border: none;
        padding: 10px;
        transform: scale(1.2);
      }
      .search-form {
        position: relative;
        width: 100%;
      }
      .search-input {
        width: 100%;
        border: 2px solid rgba(61, 41, 20, 0.2);
        border-radius: 50px;
        background-color: rgba(255, 255, 255, 0.7);
        color: var(--deep-brown);
        transition: all 0.3s ease;
        outline: none;
        padding: 1rem 1.25rem 1rem 3.5rem;
        font-size: 1rem;
      }
      .search-input::placeholder {
        color: rgba(61, 41, 20, 0.5);
      }
      .search-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(227, 154, 180, 0.3);
      }
      .search-submit-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--rose-gold));
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s ease;
        width: 40px;
        height: 40px;
        left: 6px;
      }
      .search-submit-button:hover {
        transform: translateY(-50%) scale(1.1);
      }
      .search-suggestions {
        margin-top: 1rem;
        text-align: center;
        color: var(--deep-brown);
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .search-suggestions p {
        font-weight: 600;
        opacity: 0.8;
        font-size: 0.9rem;
      }
      .search-suggestions a {
        display: inline-block;
        background-color: rgba(227, 154, 180, 0.1);
        border: 1px solid rgba(227, 154, 180, 0.2);
        border-radius: 20px;
        color: var(--deep-brown);
        transition: all 0.3s ease;
        text-decoration: none;
        padding: 0.4rem 0.8rem;
        font-size: 0.8rem;
      }
      .search-suggestions a:hover {
        background-color: var(--primary);
        color: white;
        border-color: var(--primary);
        transform: translateY(-2px);
      }
      @media (min-width: 768px) {
        .search-overlay {
          align-items: center;
          padding: 0 5%;
        }
        .close-search-button {
          top: -50px;
          right: -10px;
          transform: scale(1);
        }
        .search-input {
          padding: 1.25rem 1.5rem 1.25rem 4rem;
          font-size: 1.1rem;
        }
        .search-submit-button {
          width: 48px;
          height: 48px;
          left: 8px;
        }
        .search-suggestions a {
          padding: 0.5rem 1rem;
          font-size: 0.85rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- Cursor (reference) -->
    <div class="cursor">
      <div class="cursor-eyes"></div>
    </div>
    <div class="cursor-face"></div>
    <div class="cursor-follower"></div>

    <div
      id="vanta-bg"
      style="
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: linear-gradient(to bottom, #faf8f3, #fff7fb);
      "
    ></div>

    <!-- Header (exact reference) -->
    <nav class="fixed w-full z-50 transition-all duration-300" id="navbar">
      <div class="container mx-auto px-6 py-5">
        <div class="flex items-center justify-between" dir="ltr">
          <a
            href="#"
            class="text-3xl font-serif font-bold text-gray-800 tracking-wider z-50 flex items-center gap-x-1"
          >
            K<img
              src="./image/koala.png"
              alt="Koala logo"
              class="w-8 h-7 inline-block -mt-1"
            />ALAW
          </a>
          <div class="hidden lg:flex items-center gap-x-10 flex-row-reverse">
            <a
              href="/shop"
              class="nav-link text-gray-700 hover:text-gray-900 transition duration-300"
              >فروشگاه</a
            >
            <a
              href="#collections"
              class="nav-link text-gray-700 hover:text-gray-900 transition duration-300"
              >کالکشن ها</a
            >
            <a
              href="#brands"
              class="nav-link text-gray-700 hover:text-gray-900 transition duration-300"
              >برندها</a
            >
            <a
              href="#magazine"
              class="nav-link text-gray-700 hover:text-gray-900 transition duration-300"
              >مجله</a
            >
            <a
              href="#about"
              class="nav-link text-gray-700 hover:text-gray-900 transition duration-300"
              >درباره ما</a
            >
          </div>
          <div class="flex items-center gap-x-6">
            <button
              id="search-button"
              class="text-gray-700 hover:text-gray-900 transition-all duration-300 hover:scale-110"
            >
              <i data-feather="search" class="w-5 h-5"></i>
            </button>
            <button
              class="text-gray-700 hover:text-gray-900 transition-all duration-300 hover:scale-110"
            >
              <i data-feather="user" class="w-5 h-5"></i>
            </button>
            <button
              class="text-gray-700 hover:text-gray-900 relative transition-all duration-300 hover:scale-110"
            >
              <i data-feather="shopping-bag" class="w-5 h-5"></i>
              <span
                class="absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center pulse-animation"
                >۳</span
              >
            </button>
            <button id="mobile-menu-button" class="hamburger-button lg:hidden">
              <span></span><span></span><span></span>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Mobile menu (reference) -->
    <div id="mobile-menu">
      <a href="/shop" class="nav-link">فروشگاه</a>
      <a href="#collections" class="nav-link">کالکشن ها</a>
      <a href="#brands" class="nav-link">برندها</a>
      <a href="#magazine" class="nav-link">مجله</a>
      <a href="#about" class="nav-link">درباره ما</a>
    </div>
    <div id="mobile-menu-overlay" class="mobile-menu-overlay"></div>

    <main>
      <!-- Magazine Hero Section -->
      <section
        class="relative pt-48 pb-32 text-center overflow-hidden bg-cream"
        id="magazine"
      >
        <img
          src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=2087&auto=format&fit=crop"
          alt="Abstract beauty products arrangement"
          class="absolute inset-0 w-full h-full object-cover z-0 opacity-20"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-cream via-cream/80 to-transparent z-10"
        ></div>
        <div class="container mx-auto px-6 relative z-20">
          <div data-aos="fade-up">
            <span
              class="block text-lg font-medium tracking-wider mb-4 text-rose-800"
              >مجله زیبایی کوالا</span
            >
            <h1
              class="text-4xl lg:text-6xl font-serif font-bold text-gray-800 leading-tight mb-6"
            >
              راهنمای شما در دنیای زیبایی
            </h1>
            <p
              class="text-lg text-gray-600 mb-10 max-w-2xl leading-relaxed mx-auto"
            >
              جدیدترین مقالات، آموزش‌ها، ترندها و مصاحبه‌ها را برای الهام بخشیدن
              به روتین زیبایی روزانه خود کشف کنید.
            </p>
          </div>
          <!-- On-page search bar -->
          <div
            class="max-w-2xl mx-auto mt-8"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <div class="relative">
              <input
                id="article-search"
                type="search"
                placeholder="جستجو در مقالات..."
                class="w-full border-2 border-gray-200 rounded-full bg-white/80 backdrop-blur px-5 py-3 pl-12 text-gray-800 placeholder-gray-500 focus:border-rose-300 focus:ring-4 focus:ring-rose-200/60 outline-none transition"
              />
              <span
                class="absolute left-4 top-1/2 -translate-y-1/2 text-rose-700"
                ><i data-feather="search" class="w-5 h-5"></i
              ></span>
            </div>
          </div>
        </div>
      </section>

      <!-- Main Content Section -->
      <section class="py-24 bg-cream">
        <div class="container mx-auto px-6">
          <!-- Filter Buttons -->
          <div
            class="flex flex-wrap justify-center items-center gap-3 sm:gap-4 mb-16"
            data-aos="fade-up"
          >
            <button class="filter-btn active" data-filter="all">
              <span>همه مقالات</span>
            </button>
            <button class="filter-btn" data-filter="guide">
              <span>راهنما</span>
            </button>
            <button class="filter-btn" data-filter="tutorial">
              <span>آموزش</span>
            </button>
            <button class="filter-btn" data-filter="trends">
              <span>ترندها</span>
            </button>
            <button class="filter-btn" data-filter="lifestyle">
              <span>لایف‌استایل</span>
            </button>
          </div>

          <!-- Articles Grid -->
          <div
            id="articles-grid"
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          >
            <!-- Initial articles (with data attributes for filtering) -->
            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="100"
              data-category="guide"
              data-title="راهنمای کامل روتین مراقبت شبانه"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1600180758890-6b94519a8ba6?q=80&w=800&auto=format&fit=crop"
                  alt="روتین مراقبت شبانه"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>راهنما</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  راهنمای کامل روتین مراقبت شبانه
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  با این راهنمای قدم به قدم، پوست خود را برای بازسازی شبانه
                  آماده کنید و با پوستی درخشان بیدار شوید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۵ دقیقه
                    مطالعه</span
                  ><span>۱۴ شهریور ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="150"
              data-category="tutorial"
              data-title="مییکاپ مینیمال در ۱۰ دقیقه: راهنمای قدم‌به‌قدم"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=80&w=800&auto=format&fit=crop"
                  alt="مییکاپ مینیمال"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>آموزش</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  مییکاپ مینیمال در ۱۰ دقیقه: راهنمای قدم‌به‌قدم
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  زیبایی طبیعی خود را با این آموزش سریع و آسان برای یک آرایش
                  روزمره بی‌نقص، برجسته کنید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۷ دقیقه
                    مطالعه</span
                  ><span>۱۰ شهریور ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="200"
              data-category="lifestyle"
              data-title="هنر لایه‌بندی عطر: رایحه امضای خود را بسازید"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1557443628352-7d848f576a16?q=80&w=800&auto=format&fit=crop"
                  alt="لایه‌بندی عطر"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i
                  ><span>لایف‌استایل</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  هنر لایه‌بندی عطر: رایحه امضای خود را بسازید
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  بیاموزید چگونه عطرهای مختلف را با هم ترکیب کنید تا رایحه‌ای
                  منحصر به فرد و ماندگار خلق کنید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۶ دقیقه
                    مطالعه</span
                  ><span>۸ شهریور ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="100"
              data-category="trends"
              data-title="۵ ترند آرایشی پاییز که باید امتحان کنید"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1560948199589-95a2f58a74ef?q=80&w=800&auto=format&fit=crop"
                  alt="آرایش پاییز"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>ترندها</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  ۵ ترند آرایشی پاییز که باید امتحان کنید
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  از سایه‌های گرم و خاکی گرفته تا رژ لب‌های تیره، با جدیدترین
                  ترندهای آرایشی فصل پاییز آشنا شوید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۴ دقیقه
                    مطالعه</span
                  ><span>۵ شهریور ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="150"
              data-category="guide"
              data-title="رازهای داشتن پوستی شبیه شیشه (Glass Skin)"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1556041136379-c3da31393693?q=80&w=800&auto=format&fit=crop"
                  alt="پوست شیشه ای"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>راهنما</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  رازهای داشتن پوستی شبیه شیشه (Glass Skin)
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  با این روتین مراقبتی کره‌ای، به پوستی صاف، بی‌نقص و فوق‌العاده
                  درخشان دست پیدا کنید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۸ دقیقه
                    مطالعه</span
                  ><span>۲ شهریور ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="200"
              data-category="guide"
              data-title="ضدآفتاب: چرا مهم‌ترین محصول شماست؟"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1590135824146-a79a3a16a443?q=80&w=800&auto=format&fit=crop"
                  alt="ضدآفتاب"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>راهنما</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  ضدآفتاب: چرا مهم‌ترین محصول شماست؟
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  همه چیز درباره اهمیت استفاده روزانه از ضدآفتاب، تفاوت انواع آن
                  و نحوه انتخاب بهترین محصول برای پوست شما.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۶ دقیقه
                    مطالعه</span
                  ><span>۲۹ مرداد ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="100"
              data-category="tutorial"
              data-title="چگونه بهترین رنگ کرم پودر را آنلاین انتخاب کنیم؟"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1620825377817-378619a844a4?q=80&w=800&auto=format&fit=crop"
                  alt="انتخاب کرم پودر"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>آموزش</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  چگونه بهترین رنگ کرم پودر را آنلاین انتخاب کنیم؟
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  دیگر نگران خرید اشتباه کرم پودر نباشید. با این ترفندها، رنگ
                  دقیق پوست خود را پیدا کرده و آنلاین خرید کنید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۵ دقیقه
                    مطالعه</span
                  ><span>۲۵ مرداد ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="150"
              data-category="guide"
              data-title="مراقبت از مو در تابستان: نکات ضروری"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1566204362953-33a410b24080?q=80&w=800&auto=format&fit=crop"
                  alt="مراقبت از مو"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i><span>راهنما</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  مراقبت از مو در تابستان: نکات ضروری
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  از موهای خود در برابر آسیب‌های ناشی از آفتاب، کلر و آب شور
                  محافظت کنید و در تمام فصل تابستان موهایی سالم داشته باشید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۴ دقیقه
                    مطالعه</span
                  ><span>۲۱ مرداد ۱۴۰۴</span>
                </div>
              </div>
            </a>

            <a
              href="#"
              class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
              data-aos="fade-up"
              data-aos-delay="200"
              data-category="lifestyle"
              data-title="مصاحبه با سارا بیوتی: «زیبایی از درون می‌آید»"
            >
              <div class="relative h-64 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1508244132332-9c98d6b8b0de?q=80&w=800&auto=format&fit=crop"
                  alt="مصاحبه"
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div class="p-6">
                <div
                  class="flex items-center gap-2 text-sm text-rose-600 font-semibold"
                >
                  <i data-feather="tag" class="w-4 h-4"></i
                  ><span>لایف‌استایل</span>
                </div>
                <h3
                  class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors"
                >
                  مصاحبه با سارا بیوتی: «زیبایی از درون می‌آید»
                </h3>
                <p
                  class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"
                >
                  اینفلوئنسر محبوب دنیای زیبایی، از فلسفه خود، محصولات مورد
                  علاقه‌اش و نکاتش برای اعتماد به نفس می‌گوید.
                </p>
                <div
                  class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500"
                >
                  <span class="inline-flex items-center gap-1"
                    ><i data-feather="clock" class="w-4 h-4"></i>۱۰ دقیقه
                    مطالعه</span
                  ><span>۱۸ مرداد ۱۴۰۴</span>
                </div>
              </div>
            </a>
          </div>

          <!-- Sentinel for infinite scroll -->
          <div id="load-more-sentinel" class="h-10"></div>
        </div>
      </section>

      <!-- Newsletter Section -->
      <section class="py-24 newsletter-bg relative">
        <div class="container mx-auto px-6 relative z-10">
          <div class="max-w-4xl mx-auto text-center" data-aos="fade-up">
            <h2
              class="text-4xl lg:text-5xl font-serif font-bold text-white mb-6"
            >
              درخشان بمانید
            </h2>
            <div class="cute-divider"><span class="star">✦</span></div>
            <p class="text-rose-100 mb-10 text-lg max-w-2xl mx-auto">
              اولین کسی باشید که از کالکشن‌های جدید، پیشنهادات انحصاری و نکات
              زیبایی متخصصان ما باخبر می‌شود.
            </p>
            <form class="flex flex-col sm:flex-row max-w-xl mx-auto gap-4">
              <input
                type="email"
                placeholder="ایمیل خود را وارد کنید"
                class="flex-grow px-6 py-4 rounded-full text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-rose-300/50 transition-all duration-300"
              />
              <button
                type="submit"
                class="px-8 py-4 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 hover:shadow-xl"
              >
                عضویت
              </button>
            </form>
            <p class="text-xs text-rose-200 mt-6">
              به بیش از ۵۰,۰۰۰ دوست‌دار زیبایی بپیوندید. لغو عضویت در هر زمان
              ممکن است.
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Search Overlay (reference) -->
    <div id="search-overlay" class="search-overlay">
      <div class="search-container">
        <button id="close-search-button" class="close-search-button">
          <i data-feather="x" class="w-8 h-8"></i>
        </button>
        <form class="search-form">
          <input
            type="search"
            id="search-input"
            placeholder="جستجو برای محصولات، برندها و..."
            class="search-input"
          />
          <button type="submit" class="search-submit-button">
            <i data-feather="search"></i>
          </button>
        </form>
        <div class="search-suggestions">
          <p>پیشنهادات:</p>
          <a href="#">سرم پوست</a><a href="#">رژ لب مات</a
          ><a href="#">عطر Bloom</a><a href="#">کرم پودر</a>
        </div>
      </div>
    </div>

    <!-- Footer (exact reference) -->
    <footer
      id="about"
      class="bg-gradient-to-b from-gray-900 to-black text-white py-20"
    >
      <div class="container mx-auto px-6">
        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12"
        >
          <div class="lg:col-span-2">
            <h3 class="text-3xl font-serif font-bold mb-6">KOALAW</h3>
            <p class="text-gray-400 mb-6 leading-relaxed">
              ارتقای زیبایی از طریق تجمل آگاهانه. هر محصول جشنی از بهترین مواد
              طبیعی و علم نوآورانه است.
            </p>
            <div class="space-y-3 mb-8">
              <div class="flex items-start gap-2 text-gray-300">
                <i
                  data-feather="map-pin"
                  class="w-5 h-5 flex-shrink-0 mt-0.5"
                ></i>
                <address class="not-italic leading-relaxed">
                  ایران، همدان، بلوار معدنی
                </address>
              </div>
              <div
                class="rounded-xl overflow-hidden ring-1 ring-white/10 max-w-sm"
              >
                <iframe
                  title="Iran Hamedan Madani Blvd Map"
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13076.699965851406!2d48.51733694002674!3d34.97746897368537!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3fee6d4d12658141%3A0x5514695c023923c4!2sMadani%20Blvd%2C%20Hamedan%2C%20Hamedan%20Province%2C%20Iran!5e0!3m2!1sen!2s!4v1701345678901!5m2!1sen!2s"
                  width="100%"
                  height="160"
                  style="border: 0"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  style="filter: grayscale(20%)"
                ></iframe>
              </div>
            </div>
            <div class="flex gap-3">
              <a
                href="#"
                class="bg-gray-800 p-3 rounded-full hover:bg-gray-700 transition-all duration-300 transform hover:scale-110"
              >
                <i data-feather="instagram" class="w-5 h-5"></i>
              </a>
            </div>
          </div>
          <div
            id="footer-links"
            class="lg:col-span-3 grid grid-cols-2 md:grid-cols-3 gap-8"
          ></div>
        </div>
        <div class="border-t border-gray-800 pt-8">
          <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="flex flex-col md:flex-row items-center mb-4 md:mb-0">
              <p class="text-gray-400 text-sm mb-2 md:mb-0 md:ml-6">
                © ۲۰۲۵ D.AI — تمام حقوق محفوظ است.
              </p>
              <div
                class="flex items-center gap-x-6 md:gap-x-8 text-sm flex-wrap"
              >
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition duration-300"
                  >سیاست حفظ حریم خصوصی</a
                >
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition duration-300"
                  >شرایط خدمات</a
                >
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition duration-300"
                  >سیاست کوکی</a
                >
              </div>
            </div>
            <div class="flex items-center gap-x-4">
              <span class="text-gray-400 text-sm ml-2">پرداخت امن:</span>
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg"
                alt="Visa"
                class="h-8 opacity-70 hover:opacity-100 transition-opacity duration-300"
              />
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg"
                alt="Mastercard"
                class="h-8 opacity-70 hover:opacity-100 transition-opacity duration-300"
              />
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg"
                alt="PayPal"
                class="h-6 opacity-70 hover:opacity-100 transition-opacity duration-300"
              />
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg"
                alt="Apple Pay"
                class="h-8 opacity-70 hover:opacity-100 transition-opacity duration-300"
              />
            </div>
          </div>
        </div>
      </div>
    </footer>

    <button
      id="backToTop"
      class="fixed bottom-8 left-8 bg-gradient-to-r from-gray-900 to-black text-white p-4 rounded-full shadow-lg opacity-0 invisible transition-all duration-300 hover:shadow-xl transform hover:scale-110 z-40"
    >
      <i data-feather="arrow-up" class="w-5 h-5"></i>
    </button>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        AOS.init({
          duration: 600,
          easing: "ease-out-cubic",
          once: true,
          offset: 40,
        });
        document
          .querySelectorAll("[data-aos-duration]")
          .forEach((e) => e.setAttribute("data-aos-duration", "600"));
        feather.replace();

        /* Footer links (reference) */
        const fLC = document.getElementById("footer-links");
        const fL = {
          فروشگاه: [
            "تازه‌ها",
            "پرفروش‌ترین‌ها",
            "مراقبت از پوست",
            "آرایش",
            "عطر",
            "ست‌های هدیه",
          ],
          "خدمات مشتریان": [
            "تماس با ما",
            "سوالات متداول",
            "اطلاعات ارسال",
            "مرجوعی",
            "پیگیری سفارش",
          ],
        };
        for (const t in fL) {
          let l = "";
          fL[t].forEach(
            (i) =>
              (l += `<li><a href="#" class="text-gray-400 hover:text-white transition duration-300">${i}</a></li>`)
          );
          fLC.innerHTML += `<div><h4 class="font-semibold text-lg mb-6">${t}</h4><ul class="space-y-3">${l}</ul></div>`;
        }

        /* Cursor behavior (reference) + hearts on click */
        const cur = document.querySelector(".cursor"),
          cF = document.querySelector(".cursor-face"),
          cFol = document.querySelector(".cursor-follower");
        let cX = 0,
          cY = 0,
          fX = 0,
          fY = 0,
          s = 0.5;

        if (window.innerWidth > 768) {
          document.addEventListener("mousemove", (e) => {
            cX = e.clientX;
            cY = e.clientY;
          });
          (function animate() {
            cur.style.left = cX + "px";
            cur.style.top = cY + "px";
            cF.style.left = cX + "px";
            cF.style.top = cY + "px";
            fX += (cX - fX) * s;
            fY += (cY - fY) * s;
            cFol.style.left = fX + "px";
            cFol.style.top = fY + "px";
            requestAnimationFrame(animate);
          })();
          document
            .querySelectorAll(
              "a,button,.collection-card-new,.category-card,.campaign-featured-card,.campaign-side-card"
            )
            .forEach((el) => {
              el.addEventListener("mouseenter", () => {
                cur.classList.add("hover");
                cFol.style.transform = "translate(-50%,-50%) scale(1.5)";
              });
              el.addEventListener("mouseleave", () => {
                cur.classList.remove("hover");
                cFol.style.transform = "translate(-50%,-50%) scale(1)";
              });
            });
          if (!window.matchMedia("(prefers-reduced-motion:reduce)").matches) {
            document.addEventListener(
              "click",
              (e) => {
                if (e.target.closest("input,textarea,select,button,a")) return;
                const t = document.createElement("span");
                t.className = "floating-heart";
                t.textContent = ["❤", "✦", "✧", "❀", "❣", "★"][
                  Math.floor(Math.random() * 6)
                ];
                t.style.left = e.clientX + "px";
                t.style.top = e.clientY + "px";
                t.style.color = [
                  "#f7bcd6",
                  "#c9c2ff",
                  "#bcefe1",
                  "#ffe3a4",
                  "#ffcfe0",
                  "#d6f0ff",
                ][Math.floor(Math.random() * 6)];
                t.style.transform += ` rotate(${30 * Math.random() - 15}deg)`;
                document.body.appendChild(t);
                setTimeout(() => t.remove(), 1300);
              },
              { passive: true }
            );
          }
        } else {
          [cur, cF, cFol].forEach((e) => (e.style.display = "none"));
        }

        /* Mobile menu (reference) */
        const mB = document.getElementById("mobile-menu-button"),
          mM = document.getElementById("mobile-menu"),
          mO = document.getElementById("mobile-menu-overlay");
        const tM = () => {
          mB.classList.toggle("is-active");
          mM.classList.toggle("is-active");
          mO.classList.toggle("is-active");
          document.body.classList.toggle("mobile-menu-open");
        };
        if (mB) {
          mB.addEventListener("click", tM);
          mO.addEventListener("click", tM);
          mM.querySelectorAll("a").forEach((l) =>
            l.addEventListener("click", () => {
              if (mM.classList.contains("is-active")) tM();
            })
          );
        }

        /* Search overlay (reference) */
        const searchButton = document.getElementById("search-button"),
          searchOverlay = document.getElementById("search-overlay"),
          closeSearchButton = document.getElementById("close-search-button"),
          searchInput = document.getElementById("search-input");
        if (searchButton && searchOverlay && closeSearchButton && searchInput) {
          const openSearch = () => {
            searchOverlay.classList.add("is-active");
            document.body.classList.add("search-overlay-open");
            setTimeout(() => searchInput.focus(), 400);
          };
          const closeSearch = () => {
            searchOverlay.classList.remove("is-active");
            document.body.classList.remove("search-overlay-open");
          };
          searchButton.addEventListener("click", (e) => {
            e.preventDefault();
            openSearch();
          });
          closeSearchButton.addEventListener("click", closeSearch);
          searchOverlay.addEventListener("click", (e) => {
            if (e.target === searchOverlay) closeSearch();
          });
          document.addEventListener("keydown", (e) => {
            if (
              e.key === "Escape" &&
              searchOverlay.classList.contains("is-active")
            )
              closeSearch();
          });
        }

        /* Sticky header + back-to-top visibility (reference behavior) */
        const nav = document.getElementById("navbar"),
          btt = document.getElementById("backToTop");
        let lastScroll = 0;
        window.addEventListener("scroll", () => {
          const y = window.pageYOffset;
          nav.style.background =
            y > 100 ? "rgba(250,248,243,.95)" : "rgba(250,248,243,.85)";
          nav.style.boxShadow =
            y > 100
              ? "0 4px 30px rgba(0,0,0,.1)"
              : "0 1px 20px rgba(0,0,0,.05)";
          nav.style.transform =
            y > lastScroll && y > 500 ? "translateY(-100%)" : "translateY(0)";
          lastScroll = y;
          btt.style.opacity = y > 500 ? "1" : "0";
          btt.style.visibility = y > 500 ? "visible" : "hidden";
        });
        btt.addEventListener("click", () =>
          window.scrollTo({ top: 0, behavior: "smooth" })
        );

        /* Page search + category filters + infinite scroll */
        const grid = document.getElementById("articles-grid");
        const searchBox = document.getElementById("article-search");
        const filterBtns = Array.from(document.querySelectorAll(".filter-btn"));
        const sentinel = document.getElementById("load-more-sentinel");

        const matchesFilter = (el, activeFilter) => {
          const cat = el.getAttribute("data-category");
          return activeFilter === "all" || cat === activeFilter;
        };
        const matchesSearch = (el, q) => {
          if (!q) return true;
          const t = (el.getAttribute("data-title") || "").toLowerCase();
          return t.includes(q.toLowerCase());
        };

        const applyFilters = () => {
          const activeBtn =
            filterBtns.find((b) => b.classList.contains("active")) ||
            filterBtns[0];
          const activeFilter = activeBtn.getAttribute("data-filter");
          const q = searchBox.value.trim();
          Array.from(grid.children).forEach((card) => {
            if (!(card instanceof HTMLElement)) return;
            const show =
              matchesFilter(card, activeFilter) && matchesSearch(card, q);
            card.style.display = show ? "" : "none";
          });
        };

        filterBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            filterBtns.forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            applyFilters();
          });
        });

        searchBox.addEventListener("input", () => {
          applyFilters();
        });

        /* Mock more articles for infinite scroll */
        const moreArticles = [
          {
            title: "۱۰ اشتباه رایج در مراقبت از پوست",
            category: "guide",
            img: "https://images.unsplash.com/photo-1545239351-1141bd82e8a6?q=80&w=800&auto=format&fit=crop",
            read: "۶ دقیقه",
            date: "۱۲ مرداد ۱۴۰۴",
          },
          {
            title: "ترفندهای ماندگاری آرایش در گرما",
            category: "trends",
            img: "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=800&auto=format&fit=crop",
            read: "۵ دقیقه",
            date: "۹ مرداد ۱۴۰۴",
          },
          {
            title: "روتین مینیمال صبحگاهی در ۵ قدم",
            category: "tutorial",
            img: "https://images.unsplash.com/photo-1522335789203-9ed94e1b5e3e?q=80&w=800&auto=format&fit=crop",
            read: "۴ دقیقه",
            date: "۶ مرداد ۱۴۰۴",
          },
          {
            title: "انتخاب عطر بر اساس فصل",
            category: "lifestyle",
            img: "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=80&w=800&auto=format&fit=crop",
            read: "۷ دقیقه",
            date: "۳ مرداد ۱۴۰۴",
          },
          {
            title: "معرفی مواد مؤثره ترند ۲۰۲۵",
            category: "trends",
            img: "https://images.unsplash.com/photo-1508244132332-9c98d6b8b0de?q=80&w=800&auto=format&fit=crop",
            read: "۸ دقیقه",
            date: "۳۰ تیر ۱۴۰۴",
          },
          {
            title: "راهنمای انتخاب براش‌های آرایشی",
            category: "guide",
            img: "https://images.unsplash.com/photo-1596461404969-9ae70d2663f1?q=80&w=800&auto=format&fit=crop",
            read: "۵ دقیقه",
            date: "۲۷ تیر ۱۴۰۴",
          },
          {
            title: "اصول لایه‌بندی محصولات پوستی",
            category: "tutorial",
            img: "https://images.unsplash.com/photo-1505575972945-3305d1b29f74?q=80&w=800&auto=format&fit=crop",
            read: "۹ دقیقه",
            date: "۲۴ تیر ۱۴۰۴",
          },
          {
            title: "سبک زندگی زیبایی-محور چیست؟",
            category: "lifestyle",
            img: "https://images.unsplash.com/photo-1519699047748-de8e457a634e?q=80&w=800&auto=format&fit=crop",
            read: "۶ دقیقه",
            date: "۲۰ تیر ۱۴۰۴",
          },
          {
            title: "روتین شبانه برای پوست‌های حساس",
            category: "guide",
            img: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=800&auto=format&fit=crop",
            read: "۷ دقیقه",
            date: "۱۷ تیر ۱۴۰۴",
          },
          {
            title: "ترندهای میکاپ مینیمال ۱۴۰۴",
            category: "trends",
            img: "https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?q=80&w=800&auto=format&fit=crop",
            read: "۵ دقیقه",
            date: "۱۴ تیر ۱۴۰۴",
          },
        ];
        let loadIndex = 0;
        const batchSize = 6;

        const makeCard = (item, delay = 100) => `
        <a href="#" class="group block rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 bg-white"
           data-aos="fade-up" data-aos-delay="${delay}" data-category="${
          item.category
        }"
           data-title="${item.title}">
          <div class="relative h-64 overflow-hidden">
            <img src="${item.img}" alt="${
          item.title
        }" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
          </div>
          <div class="p-6">
            <div class="flex items-center gap-2 text-sm text-rose-600 font-semibold">
              <i data-feather="tag" class="w-4 h-4"></i><span>${
                item.category === "guide"
                  ? "راهنما"
                  : item.category === "tutorial"
                  ? "آموزش"
                  : item.category === "trends"
                  ? "ترندها"
                  : "لایف‌استایل"
              }</span>
            </div>
            <h3 class="mt-3 text-xl font-bold text-gray-800 leading-8 group-hover:text-rose-700 transition-colors">${
              item.title
            }</h3>
            <p class="mt-2 text-gray-500 text-sm leading-relaxed line-clamp-2 h-10"></p>
            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm text-gray-500">
              <span class="inline-flex items-center gap-1"><i data-feather="clock" class="w-4 h-4"></i>${
                item.read
              } مطالعه</span><span>${item.date}</span>
            </div>
          </div>
        </a>
      `;

        const appendBatch = () => {
          const end = Math.min(loadIndex + batchSize, moreArticles.length);
          const frag = document.createDocumentFragment();
          for (let i = loadIndex; i < end; i++) {
            const wrapper = document.createElement("div");
            wrapper.innerHTML = makeCard(moreArticles[i], 100 + (i % 3) * 50);
            frag.appendChild(wrapper.firstElementChild);
          }
          grid.appendChild(frag);
          loadIndex = end;
          feather.replace();
          AOS.refreshHard();
          applyFilters();
          if (loadIndex >= moreArticles.length && observer)
            observer.disconnect();
        };

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                appendBatch();
              }
            });
          },
          { rootMargin: "300px 0px" }
        );

        observer.observe(sentinel);

        // Initial apply to respect default filters/search
        applyFilters();
      });
    </script>
  </body>
</html>
